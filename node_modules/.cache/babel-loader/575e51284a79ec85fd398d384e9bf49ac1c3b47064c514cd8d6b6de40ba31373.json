{"ast":null,"code":"import { PRODUCTS_ACTION_TYPES } from \"./product.type\";\nimport { createAction } from \"../../utils/reducer/reducer.utils\";\nimport { getProducts } from \"../../utils/fetching/fetchProducts\";\nexport const fetchProductsStart = () => createAction(PRODUCTS_ACTION_TYPES.FETCH_PRODUCTS_START);\nexport const fetchCategoriesSuccess = products => createAction(PRODUCTS_ACTION_TYPES.FETCH_PRODUCTS_SUCCESS, products);\nexport const fetchProductsFailure = err => createAction(PRODUCTS_ACTION_TYPES.FETCH_PRODUCTS_FAILED, err);\nexport const fetchProductsAsync = () => {\n  return async dispatch => {\n    dispatch(fetchProductsStart());\n    try {\n      const products = await getProducts();\n      const sortedProds = JSON.parse(JSON.stringify(products));\n      dispatch(fetchCategoriesSuccess({\n        products: products,\n        sortedProds: sortedProds\n      }));\n    } catch (err) {\n      dispatch(fetchProductsFailure(err));\n    }\n  };\n};\nexport const sortProduct = sortedProducts => {\n  const sortedProduct = sortedProducts.data.sort((a, b) => a.price - b.price);\n  return createAction(PRODUCTS_ACTION_TYPES.SORT_PRODUCTS_BY_PRICE, {\n    ...sortedProducts,\n    data: sortedProduct\n  });\n};\nexport const unsortProduct = products => {\n  return createAction(PRODUCTS_ACTION_TYPES.UNSORT_PRODUCTS, products);\n};\nexport const saveEditProduct = (products, productToEdit, newValues) => {\n  const {\n    title,\n    price,\n    description,\n    rating\n  } = newValues;\n  const productIndex = products.data.findIndex(product => product.id === productToEdit.id);\n  const newProduct = {\n    ...products.data[productIndex],\n    title: title,\n    price: Number(price),\n    description: description,\n    rating: Number(rating)\n  };\n  products.data[productIndex] = newProduct;\n  const newProducts = {\n    ...products\n  };\n  const sortedProds = JSON.parse(JSON.stringify(newProducts));\n  return createAction(PRODUCTS_ACTION_TYPES.EDIT_PRODUCTS, {\n    products: newProducts,\n    sortedProds: sortedProds\n  });\n};\nexport const deleteProduct = (products, productToDelete) => {\n  const newProductsArray = products.data.filter(product => {\n    return product.id !== productToDelete.id;\n  });\n  const newProducts = {\n    ...products.data,\n    data: newProductsArray\n  };\n  const sortedProds = JSON.parse(JSON.stringify(newProducts));\n  return createAction(PRODUCTS_ACTION_TYPES.DELETE_PRODUCT, {\n    products: newProducts,\n    sortedProds: sortedProds\n  });\n};\nexport const addProduct = (products, productToAdd) => {\n  products.data.push(productToAdd);\n  const newProducts = {\n    ...products\n  };\n  const sortedProds = JSON.parse(JSON.stringify(newProducts));\n  return createAction(PRODUCTS_ACTION_TYPES.EDIT_PRODUCTS, {\n    products: newProducts,\n    sortedProds: sortedProds\n  });\n};","map":{"version":3,"names":["PRODUCTS_ACTION_TYPES","createAction","getProducts","fetchProductsStart","FETCH_PRODUCTS_START","fetchCategoriesSuccess","products","FETCH_PRODUCTS_SUCCESS","fetchProductsFailure","err","FETCH_PRODUCTS_FAILED","fetchProductsAsync","dispatch","sortedProds","JSON","parse","stringify","sortProduct","sortedProducts","sortedProduct","data","sort","a","b","price","SORT_PRODUCTS_BY_PRICE","unsortProduct","UNSORT_PRODUCTS","saveEditProduct","productToEdit","newValues","title","description","rating","productIndex","findIndex","product","id","newProduct","Number","newProducts","EDIT_PRODUCTS","deleteProduct","productToDelete","newProductsArray","filter","DELETE_PRODUCT","addProduct","productToAdd","push"],"sources":["D:/Download/coding ninja backend test/ecom-main/src/store/products/product.action.js"],"sourcesContent":["import { PRODUCTS_ACTION_TYPES } from \"./product.type\";\n\nimport { createAction } from \"../../utils/reducer/reducer.utils\";\nimport { getProducts } from \"../../utils/fetching/fetchProducts\";\n\nexport const fetchProductsStart = () =>\n  createAction(PRODUCTS_ACTION_TYPES.FETCH_PRODUCTS_START);\n\nexport const fetchCategoriesSuccess = (products) =>\n  createAction(PRODUCTS_ACTION_TYPES.FETCH_PRODUCTS_SUCCESS, products);\n\nexport const fetchProductsFailure = (err) =>\n  createAction(PRODUCTS_ACTION_TYPES.FETCH_PRODUCTS_FAILED, err);\n\nexport const fetchProductsAsync = () => {\n  return async (dispatch) => {\n    dispatch(fetchProductsStart());\n    try {\n      const products = await getProducts();\n      const sortedProds = JSON.parse(JSON.stringify(products));\n\n      dispatch(\n        fetchCategoriesSuccess({ products: products, sortedProds: sortedProds })\n      );\n    } catch (err) {\n      dispatch(fetchProductsFailure(err));\n    }\n  };\n};\n\nexport const sortProduct = (sortedProducts) => {\n  const sortedProduct = sortedProducts.data.sort((a, b) => a.price - b.price);\n  return createAction(PRODUCTS_ACTION_TYPES.SORT_PRODUCTS_BY_PRICE, {\n    ...sortedProducts,\n    data: sortedProduct,\n  });\n};\n\nexport const unsortProduct = (products) => {\n  return createAction(PRODUCTS_ACTION_TYPES.UNSORT_PRODUCTS, products);\n};\n\nexport const saveEditProduct = (products, productToEdit, newValues) => {\n  const { title, price, description, rating } = newValues;\n\n  const productIndex = products.data.findIndex(\n    (product) => product.id === productToEdit.id\n  );\n\n  const newProduct = {\n    ...products.data[productIndex],\n    title: title,\n    price: Number(price),\n    description: description,\n    rating: Number(rating),\n  };\n\n  products.data[productIndex] = newProduct;\n\n  const newProducts = { ...products };\n\n  const sortedProds = JSON.parse(JSON.stringify(newProducts));\n\n  return createAction(PRODUCTS_ACTION_TYPES.EDIT_PRODUCTS, {\n    products: newProducts,\n    sortedProds: sortedProds,\n  });\n};\n\nexport const deleteProduct = (products, productToDelete) => {\n  const newProductsArray = products.data.filter((product) => {\n    return product.id !== productToDelete.id;\n  });\n\n  const newProducts = { ...products.data, data: newProductsArray };\n  const sortedProds = JSON.parse(JSON.stringify(newProducts));\n\n  return createAction(PRODUCTS_ACTION_TYPES.DELETE_PRODUCT, {\n    products: newProducts,\n    sortedProds: sortedProds,\n  });\n};\n\nexport const addProduct = (products, productToAdd) => {\n  products.data.push(productToAdd);\n\n  const newProducts = { ...products };\n\n  const sortedProds = JSON.parse(JSON.stringify(newProducts));\n\n  return createAction(PRODUCTS_ACTION_TYPES.EDIT_PRODUCTS, {\n    products: newProducts,\n    sortedProds: sortedProds,\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}